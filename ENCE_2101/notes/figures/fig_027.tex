\documentclass{standalone}
\input{../../../xlatex/imports/preamble}

\title{Figure 020}
\date{October 28, 2024}

\begin{document}
\begin{circuitikz}
  \ctikzset{
    logic ports=ieee,
    logic ports/scale=1,
    logic ports/fill=fg!25!bg
  }
  \coordinate (e) at (0,0);
  \node[thick, nor port] (nor1) at ($(e)+(1,01.5)$){};
  \node[thick, nor port] (nor2) at ($(e)+(1,-1.5)$){};

  \node[thick, and port] (and1) at ($(nor1.in 1)+(-2,0)$){};
  \node[thick, and port] (and2) at ($(nor2.in 2)+(-2,0)$){};

  \draw[draw=fg, thick] ($(and1.in 1)+(-1,0)$) node[left] {$R$} to[short, *-] (and1.in 1);
  \draw[draw=fg, thick] ($(and2.in 2)+(-1,0)$) node[left] {$S$} to[short, *-] (and2.in 2);
  \draw[draw=fg, thick] ($(e)+(-4,0)$) node[left] {Clock} to[short, *-*] ++(0.5,0) |- (and2.in 1);
  \draw[draw=fg, thick] ($(e)+(-3.5,0)$) |- (and1.in 2);

  \draw[draw=fg, thick] (and1.out) -- (nor1.in 1);
  \draw[draw=fg, thick] (and2.out) -- (nor2.in 2);

  \draw[draw=fg, thick] ($(nor1.out)+(0.5,0)$) to[short, *-] ++(0,-1) --    ($(nor2.in 1)+(-0.5,01)$) |- (nor2.in 1);
  \draw[draw=fg, thick]   (nor1.out) to[short, -*] ++(1,0) node[anchor = west] {$P$};

  \draw[draw=fg, thick] ($(nor2.out)+(0.5,0)$) to[short, *-] ++(0,01) --    ($(nor1.in 2)+(-0.5,-1)$) |- (nor1.in 2);
  \draw[draw=fg, thick]   (nor2.out) to[short, -*] ++(1,0) node[anchor = west] {$Q$};
\end{circuitikz}
\end{document}
